## Makevars for factorana

PKG_CPPFLAGS = -DEIGEN_PERMANENTLY_DISABLE_STUPID_WARNINGS

## Use O3 for more aggressive optimization, native arch for CPU-specific optimizations
PKG_CXXFLAGS = $(SHLIB_OPENMP_CXXFLAGS) -O3 -march=native

## OS-specific libraries
## On macOS: link against Accelerate framework for optimized math
## On Linux: just use standard libs (could add -lopenblas if available)
UNAME_S := $(shell uname -s)
ifeq ($(UNAME_S),Darwin)
    PKG_LIBS = $(SHLIB_OPENMP_LDFLAGS) -framework Accelerate
else
    PKG_LIBS = $(SHLIB_OPENMP_LDFLAGS)
endif
