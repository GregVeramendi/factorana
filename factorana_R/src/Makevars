## Makevars for factorana

## Suppress warnings from Eigen headers
PKG_CPPFLAGS = -DEIGEN_PERMANENTLY_DISABLE_STUPID_WARNINGS -Wno-unused-but-set-variable

## Use O2 for optimization (same as legacy code), native arch for CPU-specific optimizations
PKG_CXXFLAGS = $(SHLIB_OPENMP_CXXFLAGS) -O2 -march=native

## OS-specific libraries
## On macOS: link against Accelerate framework for optimized math
## On Linux: just use standard libs (could add -lopenblas if available)
UNAME_S := $(shell uname -s)
ifeq ($(UNAME_S),Darwin)
    PKG_LIBS = $(SHLIB_OPENMP_LDFLAGS) -framework Accelerate
else
    PKG_LIBS = $(SHLIB_OPENMP_LDFLAGS)
endif
